---
message: "This node is using global data"

#Puppet Server Tuning
puppet_enterprise::master::puppetserver::jruby_max_requests_per_instance: 10000
#Enable code manager
puppet_enterprise::profile::master::code_manager_auto_configure: true
puppet_enterprise::master::code_manager::authenticate_webhook: false

#pe-console-services tuning
#https://docs.puppetlabs.com/pe/latest/console_config.html#tuning-the-classifier-synchronization-period
#disable classifier scheduled sync and rely on r10k postrun command to sync the classes
puppet_enterprise::profile::console::classifier_synchronization_period: 0

# Data for the puppetlabs NTP module
#   which interfaces will accept connections
ntp::restrict:
  - 'default kod nomodify notrap nopeer noquery'
  - '-4 default kod notrap nomodify nopeer noquery'
  - '-6 default kod nomodify notrap nopeer noquery'
  - '127.0.0.1'
  - '::1'
ntp::servers:
  - 'time01.samdom.aussieswithtails.fuzzbutt' # ToDo: use fqdn?

# Data for PuppetDB
puppetdb::listen_port: '18080'
puppetdb::ssl_listen_port: '18081'
#puppetdb::database_name: 'puppetdb'
#puppetdb::database_password: 'teABoNlARTErYGmATo'
#puppetdb::database_username: 'puppetdb'
#puppetdb::service_status: 'running'
#puppetdb::master::config::puppetdb_server: "%{facts.fqdn}"
puppetdb::master::config::puppetdb_port: "18081"
